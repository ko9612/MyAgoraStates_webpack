(()=>{let e;console.log(agoraStatesDiscussions);const t=localStorage.getItem("agoraStatesDiscussions");e=t?JSON.parse(t):agoraStatesDiscussions.slice();const n=e=>{const t=document.createElement("li");t.className="discussion__container";const n=document.createElement("div");n.className="discussion__avatar--wrapper";const a=document.createElement("div");a.className="discussion__content";const s=document.createElement("div");s.className="discussion__answered";const o=document.createElement("img");o.src=e.avatarUrl,o.alt="avartar of "+e.author,n.append(o);const r=document.createElement("h2"),c=document.createElement("a");c.textContent=e.title,c.href=e.url,a.append(c);const i=document.createElement("div");i.className="discussion__information",i.textContent=`${e.author} / ${new Date(e.createdAt).toLocaleString()}`,a.append(r,i);const l=document.createElement("p");return null!==e.answer?l.textContent="✔":l.textContent="✘",s.append(l),t.append(n,a,s),t},a=(t,a,s)=>{for(console.log(a,s),a||s||(a=0,s=e.length-1);t.firstChild;)t.removeChild(t.firstChild);for(let o=a;o<s;o++)t.append(n(e[o]))};page=1;const s=document.querySelector("ul.discussions__container");a(s,0,10);const o=(t,n)=>{const a=e.length-1;let s=Number(n-1)*Number(t),o=Number(s)+Number(t);return n<=0&&(s=0),o>=a&&(o=a),{pageStart:s,pageEnd:o}},r=document.querySelector(".buttons");r.children[0].addEventListener("click",(e=>{page>1&&(page-=1);const{pageStart:t,pageEnd:n}=o(10,page);a(s,t,n)})),r.children[1].addEventListener("click",(()=>{10*page<e.length-1&&(page+=1);const{pageStart:t,pageEnd:n}=o(10,page);a(s,t,n)}));const c=document.querySelector("form.form"),i=c.querySelector("div.form__input--name > input"),l=c.querySelector("div.form__input--title > input"),u=c.querySelector("div.form__textbox > textarea");c.addEventListener("submit",(t=>{t.preventDefault();const n={id:"unique id",createdAt:(new Date).toISOString,title:l.value,url:"https://github.com/codestates-seb/agora-states-fe/discussions/45",author:i.value,answer:null,bodyHTML:u.value,avatarUrl:"https://avatars.githubusercontent.com/u/97888923?s=64&u=12b18768cdeebcf358b70051283a3ef57be6a20f&v=4"};e.unshift(n),localStorage.setItem("agoraStatesDiscussions",JSON.stringify(e)),a(s,0,10)}))})();